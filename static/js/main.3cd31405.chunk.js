(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{34:function(e,t,a){e.exports=a(54)},39:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(26),l=a.n(c),o=(a(39),a(40),a(27)),i=a(28);function s(){var e=Object(o.a)(["\n\n    body{\n        font: 14px/22px Arial,Helvetica,sans-serif;\n    color: #777;\n    padding: 0;\n    margin: 0;\n    background: #fbfbfb url(https://www.miss-thrifty.co.uk/wp-content/themes/miss-thrifty/assets/images/bg_head.jpg) no-repeat 50% 0;\n        }\n    "]);return s=function(){return e},e}var m=Object(i.a)(s()),u=a(3),d=a(9),f=a(6),p=a.n(f),h=a(11),g=a(32),E=a(10),b=a.n(E),v=(a(44),a(46),{apiKey:"AIzaSyCsR25KatSd7tNbAjqRLdrJH77WH1eiWLM",authDomain:"blog-5fe12.firebaseapp.com",databaseURL:"https://blog-5fe12.firebaseio.com",projectId:"blog-5fe12",storageBucket:"blog-5fe12.appspot.com",messagingSenderId:"920609259836",appId:"1:920609259836:web:fc09f96478a9633ee11e39",measurementId:"G-ZQ66XN6LPR"}),N=new function e(){var t=this;Object(g.a)(this,e),this.login=function(){var e=Object(h.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.auth.signInWithPopup(t["".concat(a,"Provider")]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.logout=function(){return t.auth.signOut()},b.a.initializeApp(v),this.auth=b.a.auth(),this.facebookProvider=new b.a.auth.FacebookAuthProvider,this.twitterProvider=new b.a.auth.TwitterAuthProvider,this.googleProvider=new b.a.auth.GoogleAuthProvider,this.db=Object(E.firestore)()},w=a(7),j=function(){var e=Object(n.useState)(null),t=Object(w.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=N.auth.onAuthStateChanged((function(e){r(e||null)}));return function(){return e()}}),[]),a};var y=function(){var e=j();return r.a.createElement("header",null,r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"li-nav"},r.a.createElement("a",{href:"#"},"HOME")),r.a.createElement("li",{className:"li-nav"},r.a.createElement("a",{href:"#"},"ABOUT")),r.a.createElement("li",{className:"li-nav"},r.a.createElement("a",{href:"#"},"ARCHIVE")),r.a.createElement("li",{className:"li-nav"},r.a.createElement("a",{href:"#"},"CONTACT ME"))),r.a.createElement("div",{className:"icon-container"},r.a.createElement(u.c,{className:"icon"}),r.a.createElement(u.e,{className:"icon"}),r.a.createElement(u.f,{className:"icon"}),r.a.createElement(u.d,{className:"icon"}),e?r.a.createElement("button",{onClick:function(){return N.logout()},className:"button-user"}," D\xe9connecter"):r.a.createElement(d.a,{onClick:function(){return N.login("google")},className:"icon"})))},O=(a(49),a(50),a(33)),k=a(57);var C=function(e,t){var a=t-(e=e.split("")).length-15;return e.length>t?(e=e.slice(0,a).join(""),e=e+='<a class = "decoupe" href="#">Get the lowdown >></a>'):e=e.join(""),{__html:e}},x=a(58);var I=function(e){var t=e.item,a=e.user,c=Object(n.useState)(!1),l=Object(w.a)(c,2),o=l[0],i=l[1];Object(n.useEffect)((function(){if(a){var e=t.likes.some((function(e){return e.id==a.uid}));i(e)}}),[a]);var s=function(){var e=N.db.collection("blog").doc(t.id);if(i((function(e){return!e})),o){var n=t.likes.filter((function(e){return e.id!==a.uid}));e.update({likes:n})}else{var r={id:a.uid,name:a.displayName},c=[].concat(Object(O.a)(t.likes),[r]);e.update({likes:c})}};return t&&""!==t.message.titre?r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"img-card",src:t.message.imgPoste,alt:"poste"}),r.a.createElement("div",{className:"flexDescription"},r.a.createElement("p",{className:"tags"},t.message.tags,"."),r.a.createElement("h4",{className:"title-card"},t.message.titre),r.a.createElement("p",{className:"card-description"},r.a.createElement("div",{dangerouslySetInnerHTML:C(t.message.contenue,300)}))),r.a.createElement("div",{className:"barCards"},r.a.createElement("img",{src:"https://media.discordapp.net/attachments/702298192678748270/727586299086897172/IMG_20200630_200751.jpg?width=702&height=936",alt:"profil"}),r.a.createElement("span",null,t.nom),r.a.createElement(u.b,{className:"icon-card"})," ",r.a.createElement("span",null,"\xa0 il y a ",Object(k.a)(t.time,{locale:x.a})," "),a?o?r.a.createElement(d.b,{onClick:s,className:"icon-card"}):r.a.createElement(d.c,{onClick:s,className:"icon-card"}):r.a.createElement(d.c,{className:"icon-card"}),"\xa0 ",r.a.createElement("span",null,t.likes.length))):r.a.createElement(r.a.Fragment,null)},F=a(13);var S=function(){var e=j(),t=Object(n.useState)([]),a=Object(w.a)(t,2),c=a[0],l=a[1],o=function(e){var t=e.docs.map((function(e){return Object(F.a)({id:e.id},e.data())}));l(t)};return Object(n.useEffect)((function(){N.db.collection("blog").orderBy("time","desc").onSnapshot(o)}),[N]),r.a.createElement("div",null,c.map((function(t,a){return r.a.createElement(I,{key:a,item:t,user:e})})))};var P=function(){return r.a.createElement("section",{className:"section-blog"},r.a.createElement("div",{className:"selectoinBar"},r.a.createElement("h3",null,"Last blog"),r.a.createElement("div",{className:"bar"}),r.a.createElement(u.a,{className:"icon-section"})),r.a.createElement(S,null),r.a.createElement(I,null))},A=(a(51),a(52),a(53),a(18));var D=function(e){var t=e.newMessage,a=e.handleChange,n=e.handleSubmit,c=e.enterSubmit,l=j();return l&&"IRYyLgKmQugxrP1kdcl4RpXNFy12"===l.uid?r.a.createElement("div",{className:"form-add"},r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlInput1"},"Titre"),r.a.createElement("input",{onChange:a,value:t.titre,onKeyDown:c,name:"titre",type:"txt",className:"form-control",id:"exampleFormControlInput1",placeholder:"Entrez le titre",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"FormControlInput1"},"Tags"),r.a.createElement("input",{onChange:a,value:t.tags,onKeyDown:c,name:"tags",type:"txt",className:"form-control",id:"FormControlInput1",placeholder:"Entrez les Tags",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"FormControlInput2"},"Image"),r.a.createElement("input",{onChange:a,onKeyDown:c,value:t.imgPoste,name:"imgPoste",type:"txt",className:"form-control",id:"FormControlInput2",placeholder:"Entrez le liens de l'image",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"le contenue du blog"),r.a.createElement("textarea",{onChange:a,value:t.contenue,name:"contenue",className:"form-control",onKeyDown:c,id:"exampleFormControlTextarea1",rows:"3",required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))):r.a.createElement(r.a.Fragment,null," ")};var T=function(){var e=j(),t={titre:"",tags:"",contenue:"",imgPoste:""},a=Object(n.useState)(t),c=Object(w.a)(a,2),l=c[0],o=c[1],i=function(){o(t)},s=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("13"!=t.keyCode){e.next=5;break}return t.preventDefault(),e.next=4,u();case 4:i();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u();case 3:i();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var t=Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={nom:e.displayName,likes:[],time:Date.now(),img:e.photoURL,message:l},t.next=3,N.db.collection("blog").add(a);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(D,{newMessage:l,handleChange:function(e){e.persist(),o((function(t){return Object(F.a)(Object(F.a)({},t),{},Object(A.a)({},e.target.name,e.target.value))}))},handleSubmit:m,enterSubmit:s})};var L=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(y,null),r.a.createElement("h1",null,"mister Deshayes"),r.a.createElement(P,null),r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.3cd31405.chunk.js.map